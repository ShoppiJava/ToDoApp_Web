<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>タスク登録</title>

    <!-- Bootstrap（画面を整えるためのCSSフレームワーク）読み込み -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<h1>新しいタスクを登録</h1>

<!-- Todoオブジェクトをフォームとバインドして送信先を /todos に指定 -->
<form th:action="@{/todos}" method="post" th:object="${todo}">

    <!-- タイトル入力 -->
    <div class="mb-3">
        <label class="form-label">タイトル</label>
        <input type="text" th:field="*{title}" class="form-control">
        <!-- バリデーションエラーがあれば表示 -->
        <div th:if="${#fields.hasErrors('title')}" th:errors="*{title}" class="text-danger mt-1"></div>
    </div>

    <!-- 説明入力 -->
    <div class="mb-3">
        <label class="form-label">説明</label>
        <textarea th:field="*{description}" class="form-control"></textarea>
        <div th:if="${#fields.hasErrors('description')}" th:errors="*{description}" class="text-danger mt-1"></div>
    </div>

    <!-- 締切日入力 -->
    <div class="mb-3">
        <label class="form-label">締切日</label>
        <input type="date" th:field="*{dueDate}" class="form-control">
        <div th:if="${#fields.hasErrors('dueDate')}" th:errors="*{dueDate}" class="text-danger mt-1"></div>
    </div>

    <!-- 完了チェックボックス -->
    <div class="form-check mb-3">
        <input type="checkbox" th:field="*{completed}" class="form-check-input">
        <label class="form-check-label">完了</label>
    </div>

    <!-- 送信ボタンと戻るボタン -->
    <button type="submit" class="btn btn-primary">保存</button>
    <a th:href="@{/todos}" class="btn btn-secondary">← 一覧に戻る</a>

</form>
</body>
</html>
